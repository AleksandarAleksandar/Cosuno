{"ast":null,"code":"import _slicedToArray from\"/Users/aleksandarvasiljevic/github/Cosuno/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Login}from'./Login';import{Register}from'./Register';import{toast}from'react-toastify';import{useLocation,useNavigate}from'react-router-dom';import{stylesheet}from'typestyle';import{Button}from'../utils/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles=stylesheet({header:{marginBottom:'2rem'},loginRegister:{display:'flex',justifyContent:'end',$nest:{'& > *:first-child':{marginRight:'1rem'}}},loginInfoAddComp:{display:'flex'},loginInfo:{display:'flex',marginLeft:'auto'},user:{fontWeight:'bold',display:'flex',alignItems:'center',fontSize:'1.5rem',marginRight:'1rem'}});export function Header(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showLogin=_useState4[0],_setShowLogin=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showRegister=_useState6[0],_setShowRegister=_useState6[1];var navigator=useNavigate();var location=useLocation();useEffect(function(){var userFromLocalStorage=JSON.parse(localStorage.getItem('user')||'{}');setUser(userFromLocalStorage);},[setUser]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[user===null?/*#__PURE__*/_jsxs(\"div\",{className:styles.loginRegister,children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){_setShowLogin(true);_setShowRegister(false);},title:'Login'}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){_setShowRegister(true);_setShowLogin(false);},title:'Register'})]}):/*#__PURE__*/_jsxs(\"div\",{className:styles.loginInfoAddComp,children:[location.pathname!=='/addCompany'&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){navigator('/addCompany');},title:'Add company'}),/*#__PURE__*/_jsxs(\"div\",{className:styles.loginInfo,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.user,children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){toast('Goodbye '+(user===null||user===void 0?void 0:user.name),{position:'top-center',hideProgressBar:true});localStorage.removeItem('user');setUser(null);},title:'Logout'})]})]}),showLogin&&/*#__PURE__*/_jsx(Login,{setUser:setUser,setShowLogin:function setShowLogin(){return _setShowLogin(false);}}),showRegister&&/*#__PURE__*/_jsx(Register,{setUser:setUser,setShowRegister:function setShowRegister(){return _setShowRegister(false);}})]});}","map":{"version":3,"names":["React","useEffect","useState","Login","Register","toast","useLocation","useNavigate","stylesheet","Button","styles","header","marginBottom","loginRegister","display","justifyContent","$nest","marginRight","loginInfoAddComp","loginInfo","marginLeft","user","fontWeight","alignItems","fontSize","Header","setUser","showLogin","setShowLogin","showRegister","setShowRegister","navigator","location","userFromLocalStorage","JSON","parse","localStorage","getItem","pathname","name","position","hideProgressBar","removeItem"],"sources":["/Users/aleksandarvasiljevic/github/Cosuno/client/src/views/Header.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Login } from './Login';\nimport { Register } from './Register';\nimport { toast } from 'react-toastify';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { stylesheet } from 'typestyle';\nimport { Button } from '../utils/Button';\n\nconst styles = stylesheet({\n    header: {\n        marginBottom: '2rem',\n    },\n    loginRegister: {\n        display: 'flex',\n        justifyContent: 'end',\n        $nest: {\n            '& > *:first-child': {\n                marginRight: '1rem',\n            },\n        },\n    },\n    loginInfoAddComp: {\n        display: 'flex',\n    },\n    loginInfo: {\n        display: 'flex',\n        marginLeft: 'auto',\n    },\n    user: {\n        fontWeight: 'bold',\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: '1.5rem',\n        marginRight: '1rem',\n    },\n});\n\nexport function Header() {\n    const [user, setUser] = useState<{ name: string } | null>();\n    const [showLogin, setShowLogin] = useState(false);\n    const [showRegister, setShowRegister] = useState(false);\n    const navigator = useNavigate();\n    const location = useLocation();\n    useEffect(() => {\n        const userFromLocalStorage = JSON.parse(localStorage.getItem('user') || '{}');\n        setUser(userFromLocalStorage);\n    }, [setUser]);\n\n    return (\n        <div className={styles.header}>\n            {user === null ? (\n                <div className={styles.loginRegister}>\n                    <Button\n                        onClick={() => {\n                            setShowLogin(true);\n                            setShowRegister(false);\n                        }}\n                        title={'Login'}\n                    />\n                    <Button\n                        onClick={() => {\n                            setShowRegister(true);\n                            setShowLogin(false);\n                        }}\n                        title={'Register'}\n                    />\n                </div>\n            ) : (\n                <div className={styles.loginInfoAddComp}>\n                    {location.pathname !== '/addCompany' && (\n                        <Button\n                            onClick={() => {\n                                navigator('/addCompany');\n                            }}\n                            title={'Add company'}\n                        />\n                    )}\n                    <div className={styles.loginInfo}>\n                        <span className={styles.user}>{user?.name}</span>\n                        <Button\n                            onClick={() => {\n                                toast('Goodbye ' + user?.name, {\n                                    position: 'top-center',\n                                    hideProgressBar: true,\n                                });\n                                localStorage.removeItem('user');\n                                setUser(null);\n                            }}\n                            title={'Logout'}\n                        />\n                    </div>\n                </div>\n            )}\n            {showLogin && <Login setUser={setUser} setShowLogin={() => setShowLogin(false)} />}\n            {showRegister && (\n                <Register setUser={setUser} setShowRegister={() => setShowRegister(false)} />\n            )}\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}