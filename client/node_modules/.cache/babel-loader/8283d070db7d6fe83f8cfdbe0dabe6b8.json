{"ast":null,"code":"import _slicedToArray from\"/Users/aleksandarvasiljevic/github/Cosuno/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useEffect,useRef,useState}from'react';import{classes,style,stylesheet}from'typestyle';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faArrowDown,faArrowUp,faCheck}from'@fortawesome/free-solid-svg-icons';import{MAIN_COLOR,SUBTLE_WHITE}from'./constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles=stylesheet({dropdownWrapper:{position:'relative'},dropdownButtonIcon:{display:'flex',justifyContent:'space-between',alignItems:'center',cursor:'pointer',backgroundColor:MAIN_COLOR,$nest:{'& > *':{padding:'5px'}}},searchInput:{$nest:{'& > input':{border:'none'},'& > input:hover':{backgroundColor:'gray'}}},list:{listStyle:'none',border:\"1px solid #999\",display:'flex',flexDirection:'column',justifyContent:'flex-start',maxHeight:'300px',minWidth:'200px',overflowY:'auto',position:'absolute',zIndex:3,backgroundColor:SUBTLE_WHITE,padding:'0px',margin:0},dropdownOptions:{display:'flex',alignItems:'center',margin:'2px',padding:'6px',fontSize:'14px',cursor:'pointer',$nest:{'&:hover':{backgroundColor:'#b3d6c6'},'&:first-child':{borderTopLeftRadius:4,borderTopRightRadius:4},'&:last-child':{borderBottomLeftRadius:4,borderBottomRightRadius:4}}},oddOption:{backgroundColor:'white'},optionsNotSelected:{$nest:{'& > *':{marginLeft:'24px'}}},selectedOptionIcon:{color:MAIN_COLOR,margin:'auto 0',flexShrink:0,marginRight:'12px'}});function OutsideClickWrapper(_ref){var children=_ref.children,onOutsideClick=_ref.onOutsideClick;var wrapperRef=useRef(null);useEffect(function(){function handleClickOutside(event){if(wrapperRef.current!==null&&event.target instanceof Node&&!wrapperRef.current.contains(event.target)){onOutsideClick();}}document.addEventListener('mousedown',function(e){return handleClickOutside(e);});return function(){document.removeEventListener('mousedown',function(e){return handleClickOutside(e);});};},[wrapperRef,onOutsideClick]);return/*#__PURE__*/_jsx(\"div\",{ref:wrapperRef,children:children});}export function Dropdown(_ref2){var items=_ref2.items,className=_ref2.className,onChange=_ref2.onChange,selectedFilter=_ref2.selectedFilter,setSelectedFilter=_ref2.setSelectedFilter;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchInput=_useState4[0],setSearchInput=_useState4[1];function handleOnClick(item){if(selectedFilter!==item){setSelectedFilter(item);}else{setSelectedFilter('');}}function isItemInSelection(item){return selectedFilter===item;}return/*#__PURE__*/_jsx(\"div\",{className:classes(styles.dropdownWrapper,className),children:/*#__PURE__*/_jsxs(OutsideClickWrapper,{onOutsideClick:function onOutsideClick(){return setOpen(false);},children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.dropdownButtonIcon,onClick:function onClick(){return setOpen(!open);},children:[/*#__PURE__*/_jsx(\"input\",{type:'text',value:searchInput,onChange:function onChange(e){return open&&setSearchInput(e.target.value);},autoComplete:'off',className:styles.searchInput}),open?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowUp,className:style({color:'white'})}):/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowDown,className:style({color:'white'})})]}),open&&/*#__PURE__*/_jsx(\"ul\",{className:styles.list,children:items.filter(function(item){return item.toLowerCase().includes(searchInput.toLowerCase());}).sort(function(a,b){return a.localeCompare(b);}).map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:classes(styles.dropdownOptions,!isItemInSelection(item)&&styles.optionsNotSelected,index%2===1&&styles.oddOption),onClick:function onClick(){if(onChange)onChange(item);handleOnClick(item);},children:[isItemInSelection(item)?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheck,className:styles.selectedOptionIcon}):null,/*#__PURE__*/_jsx(\"span\",{children:item})]},item);})})]})});}","map":{"version":3,"names":["React","useEffect","useRef","useState","classes","style","stylesheet","FontAwesomeIcon","faArrowDown","faArrowUp","faCheck","MAIN_COLOR","SUBTLE_WHITE","styles","dropdownWrapper","position","dropdownButtonIcon","display","justifyContent","alignItems","cursor","backgroundColor","$nest","padding","searchInput","border","list","listStyle","flexDirection","maxHeight","minWidth","overflowY","zIndex","margin","dropdownOptions","fontSize","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","oddOption","optionsNotSelected","marginLeft","selectedOptionIcon","color","flexShrink","marginRight","OutsideClickWrapper","children","onOutsideClick","wrapperRef","handleClickOutside","event","current","target","Node","contains","document","addEventListener","e","removeEventListener","Dropdown","items","className","onChange","selectedFilter","setSelectedFilter","open","setOpen","setSearchInput","handleOnClick","item","isItemInSelection","value","filter","toLowerCase","includes","sort","a","b","localeCompare","map","index"],"sources":["/Users/aleksandarvasiljevic/github/Cosuno/client/src/utils/Dropdown.tsx"],"sourcesContent":["import React from 'react';\nimport { ReactElement, useEffect, useRef, useState } from 'react';\nimport { classes, style, stylesheet } from 'typestyle';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowDown, faArrowUp, faCheck } from '@fortawesome/free-solid-svg-icons';\nimport { MAIN_COLOR, SUBTLE_WHITE } from './constants';\n\nconst styles = stylesheet({\n    dropdownWrapper: {\n        position: 'relative',\n    },\n    dropdownButtonIcon: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        cursor: 'pointer',\n        backgroundColor: MAIN_COLOR,\n        $nest: {\n            '& > *': {\n                padding: '5px',\n            },\n        },\n    },\n    searchInput: {\n        $nest: {\n            '& > input': {\n                border: 'none',\n            },\n            '& > input:hover': {\n                backgroundColor: 'gray',\n            },\n        },\n    },\n    list: {\n        listStyle: 'none',\n        border: `1px solid #999`,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        maxHeight: '300px',\n        minWidth: '200px',\n        overflowY: 'auto',\n        position: 'absolute',\n        zIndex: 3,\n        backgroundColor: SUBTLE_WHITE,\n        padding: '0px',\n        margin: 0,\n    },\n\n    dropdownOptions: {\n        display: 'flex',\n        alignItems: 'center',\n        margin: '2px',\n        padding: '6px',\n        fontSize: '14px',\n        cursor: 'pointer',\n        $nest: {\n            '&:hover': {\n                backgroundColor: '#b3d6c6',\n            },\n            '&:first-child': { borderTopLeftRadius: 4, borderTopRightRadius: 4 },\n            '&:last-child': { borderBottomLeftRadius: 4, borderBottomRightRadius: 4 },\n        },\n    },\n    oddOption: {\n        backgroundColor: 'white',\n    },\n    optionsNotSelected: {\n        $nest: {\n            '& > *': { marginLeft: '24px' },\n        },\n    },\n\n    selectedOptionIcon: {\n        color: MAIN_COLOR,\n        margin: 'auto 0',\n        flexShrink: 0,\n        marginRight: '12px',\n    },\n});\n\ntype OutsideClickWrapperProps = {\n    children: React.ReactNode;\n    onOutsideClick: () => void;\n};\n\nfunction OutsideClickWrapper({ children, onOutsideClick }: OutsideClickWrapperProps): ReactElement {\n    const wrapperRef = useRef<null | HTMLDivElement>(null);\n    useEffect(() => {\n        function handleClickOutside(event: MouseEvent): void {\n            if (\n                wrapperRef.current !== null &&\n                event.target instanceof Node &&\n                !wrapperRef.current.contains(event.target)\n            ) {\n                onOutsideClick();\n            }\n        }\n\n        document.addEventListener('mousedown', (e) => handleClickOutside(e));\n        return () => {\n            document.removeEventListener('mousedown', (e) => handleClickOutside(e));\n        };\n    }, [wrapperRef, onOutsideClick]);\n\n    return <div ref={wrapperRef}>{children}</div>;\n}\ntype DropdownProps = {\n    title: string;\n    items: string[];\n    setSelectedFilter: (filter: string) => void;\n    selectedFilter: string;\n    className?: string;\n    id?: string;\n    onChange?: (item: string) => void;\n    values?: [];\n    showToggle?: boolean;\n};\nexport function Dropdown({\n    items,\n    className,\n    onChange,\n    selectedFilter,\n    setSelectedFilter,\n}: DropdownProps): ReactElement {\n    const [open, setOpen] = useState(false);\n    const [searchInput, setSearchInput] = useState('');\n\n    function handleOnClick(item: string): void {\n        if (selectedFilter !== item) {\n            setSelectedFilter(item);\n        } else {\n            setSelectedFilter('');\n        }\n    }\n\n    function isItemInSelection(item: string): boolean {\n        return selectedFilter === item;\n    }\n\n    return (\n        <div className={classes(styles.dropdownWrapper, className)}>\n            <OutsideClickWrapper onOutsideClick={() => setOpen(false)}>\n                <div className={styles.dropdownButtonIcon} onClick={() => setOpen(!open)}>\n                    <input\n                        type={'text'}\n                        value={searchInput}\n                        onChange={(e) => open && setSearchInput(e.target.value)}\n                        autoComplete={'off'}\n                        className={styles.searchInput}\n                    />\n                    {open ? (\n                        <FontAwesomeIcon icon={faArrowUp} className={style({ color: 'white' })} />\n                    ) : (\n                        <FontAwesomeIcon icon={faArrowDown} className={style({ color: 'white' })} />\n                    )}\n                </div>\n                {open && (\n                    <ul className={styles.list}>\n                        {items\n                            .filter((item) => item.toLowerCase().includes(searchInput.toLowerCase()))\n                            .sort((a, b) => a.localeCompare(b))\n                            .map((item, index) => {\n                                return (\n                                    <div\n                                        className={classes(\n                                            styles.dropdownOptions,\n                                            !isItemInSelection(item) && styles.optionsNotSelected,\n                                            index % 2 === 1 && styles.oddOption\n                                        )}\n                                        key={item}\n                                        onClick={() => {\n                                            if (onChange) onChange(item);\n                                            handleOnClick(item);\n                                        }}\n                                    >\n                                        {isItemInSelection(item) ? (\n                                            <FontAwesomeIcon\n                                                icon={faCheck}\n                                                className={styles.selectedOptionIcon}\n                                            />\n                                        ) : null}\n\n                                        <span>{item}</span>\n                                    </div>\n                                );\n                            })}\n                    </ul>\n                )}\n            </OutsideClickWrapper>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}